# 智能记账助手 App 核心功能定义

本文档基于 `PRD.md`、`Brainstorm.md`、`Research_Summary.md` 和 `User_Research_Analysis.md` 的分析结果，梳理智能记账助手 App 的核心功能。

## 1. 功能清单

| 功能模块                 | 描述                                                                                                                               |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------- |
| **1. 截图智能识别记账**  | 用户通过截取支付/收款凭证图片，App自动识别关键信息（金额、时间、商户/付款方、商品说明、交易分类等）并创建账单。                                        |
| **2. 手动记账与编辑**    | 允许用户手动添加新账单，或对已识别/已创建的账单信息进行修改和补充，确保数据准确性。                                                              |
| **3. 账单列表与详情**    | 清晰展示所有记账记录，支持按时间、分类等方式查看。用户可以点击单条记录查看完整详情。                                                                 |
| **4. 数据结构化与存储**  | 将识别和手动输入的账单信息进行结构化处理，并安全存储在用户本地。支持将数据导出为通用格式（如 Excel, CSV）。                                                 |
| **5. 交易分类管理**    | 提供一组预设的常用交易分类（如餐饮、交通、购物等）。用户在记账时可以选择或修改系统推荐的分类。                                                              |
| **6. 收支分析报表**    | 基于已记录的账单数据，生成月度、年度的收支统计图表和摘要，帮助用户直观了解个人财务状况和消费结构。                                                              |
| **7. (MVP后) 预算管理** | 用户可以设置月度或特定分类的预算，App跟踪支出情况并在接近或超出预算时进行提醒。                                                                    |
| **8. (MVP后) 数据同步与备份** | 提供可选的数据云同步功能，方便用户在多设备间访问数据，并作为数据备份手段。                                                                       |
| **9. (MVP后) 用户账户与设置** | 包括用户偏好设置（如货币单位、记账提醒）、数据管理（导入/导出）、隐私设置、帮助与反馈等。                                                                 |

## 2. 用户操作路径

**场景一：首次使用与基础设置**
1.  用户下载并首次打开 App。
2.  App 展示欢迎引导页，简要介绍核心功能。
3.  App 请求必要的权限（如相册访问权限 - 用于截图识别）。
4.  (可选) 用户进行初步设置，如选择默认货币单位。

**场景二：通过截图智能记账**
1.  用户在其他应用（如支付宝、微信）完成支付或收款，并截取凭证图片。
2.  用户打开智能记账助手 App。
3.  App 自动检测到剪贴板中的新截图或提示用户从相册选择截图。
4.  App 对选定的截图进行 OCR 识别，提取账单关键信息（金额、时间、对方信息、商品说明等）。
5.  App 预填充账单表单，并根据识别内容尝试自动匹配交易分类。
6.  用户在账单确认页面检查识别结果，可手动修改金额、日期、分类、添加备注等。
7.  用户点击“保存”，账单记录成功。

**场景三：手动记账**
1.  用户在 App 内点击“手动记账”或“+”按钮。
2.  用户进入记账页面，手动输入金额、选择日期、选择账户（如适用）、选择交易分类、填写备注等信息。
3.  用户点击“保存”，账单记录成功。

**场景四：查看与管理账单**
1.  用户进入“账单列表”或“明细”页面。
2.  App 展示按时间倒序排列的账单流水。
3.  用户可以按月份、按分类筛选账单，或进行关键词搜索。
4.  用户点击某条账单，进入详情页面查看完整信息。
5.  在详情页，用户可选择“编辑”或“删除”该条账单。

**场景五：查看收支分析报表**
1.  用户进入“报表”或“分析”页面。
2.  App 默认展示当月收支总览（如饼图、柱状图显示各分类占比）。
3.  用户可以切换时间范围（如上月、本年）或报表类型（如支出趋势、收入构成）。

**场景六：数据导出**
1.  用户进入“设置”或“更多”页面。
2.  用户选择“数据导出”功能。
3.  用户选择导出格式（如 CSV、Excel）和时间范围。
4.  App 生成数据文件，用户可选择保存到本地或分享。

## 3. 每个功能解决什么问题

| 功能模块               | 解决的核心问题/用户痛点                                                                 | 满足的用户需求                                                                 |
| ---------------------- | --------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ |
| 1. 截图智能识别记账    | 手动记账繁琐、耗时、易遗漏，难以坚持。                                                          | 快速、便捷、低门槛的记账方式，提高记账效率和持续性。                                   |
| 2. 手动记账与编辑      | 截图识别可能存在误差或信息不全；部分消费无电子凭证。                                                    | 保证记账数据的准确性和完整性，覆盖所有记账场景。                                       |
| 3. 账单列表与详情      | 用户需要方便地回顾和查找自己的收支记录。                                                            | 清晰了解每一笔资金的来龙去脉，方便核对和管理。                                       |
| 4. 数据结构化与存储    | 原始截图信息非结构化，难以分析；用户担心数据丢失或希望在其他工具中使用数据。                                      | 结构化、安全的数据存储，支持数据复用和迁移。                                         |
| 5. 交易分类管理      | 用户需要对收支进行归类，以便更好地理解消费构成。                                                      | 清晰了解各项开支的分布，为财务分析和预算制定提供基础。                                   |
| 6. 收支分析报表      | 用户记账后希望了解自己的整体财务状况和消费趋势，但手动分析困难。                                                | 直观的数据可视化，帮助用户洞察消费模式，辅助财务决策。                                   |
| 7. (MVP后) 预算管理   | 用户希望控制支出，避免不必要的浪费，但缺乏有效工具。                                                    | 设定和追踪预算，培养理性消费习惯，实现储蓄目标。                                     |
| 8. (MVP后) 数据同步与备份 | 用户担心手机损坏或更换导致数据丢失；希望在多设备上查看数据。                                                | 保证数据安全不丢失，提供跨设备的数据一致性体验。                                     |
| 9. (MVP后) 用户账户与设置 | 用户有性化需求，如界面偏好、提醒设置；需要管理应用数据和隐私。                                                | 提供个性化的使用体验，确保用户对数据的控制权和应用的易用性。                               |

## 4. 功能之间的逻辑关系

*   **核心依赖路径：**
    *   `截图智能识别记账` / `手动记账与编辑` → `数据结构化与存储` (本地) → `交易分类管理` (应用于记录) → `账单列表与详情` (展示记录) → `收支分析报表` (基于记录分析)。
*   **优先级与依赖：**
    *   **核心功能 (P0 - MVP必备):** `截图智能识别记账`、`手动记账与编辑`、`账单列表与详情`、`数据结构化与存储` (本地)、`交易分类管理` (基础固定分类)。这些是构成产品可用性的基石。
    *   **重要功能 (P1 - MVP或紧随其后):** `收支分析报表` (基础版)。这是记账的核心价值体现之一。
    *   **辅助/增强功能 (P2 - 后续迭代):** `预算管理`、`数据同步与备份`、`用户账户与设置`、更高级的`交易分类管理` (如自定义分类)、更复杂的`收支分析报表`。
*   **关系说明：**
    *   `收支分析报表` 和 `预算管理` 强依赖于准确的 `账单数据` 和有效的 `交易分类`。
    *   `数据同步与备份` 通常需要 `用户账户系统` 支持。
    *   `截图智能识别记账` 依赖于OCR技术和相应的系统权限。

## 5. MVP (最小可用产品) 视角收敛

**MVP应保留的核心功能：**

1.  **截图智能识别记账 (核心引擎):**
    *   支持主流支付平台（微信、支付宝）截图的关键信息识别，主要包含：
        付款场景：app 可以从截图中识别出付款金额，交易时间，商品说明，交易分类（固定分类），收入/支出，付款方式以及备注；
        收款场景：app 可以从截图中识别出收款金额，交易时间，商品说明，交易分类（固定分类），收入/支出，收款方式以及备注;
    *   能够进行基本的收/支判断。
    *   对识别结果进行预填充，并允许用户确认和修改编辑。
2.  **手动记账与编辑功能:**
    *   提供完整的账单信息手动输入界面。
    *   允许对已存在的记录进行修改和删除。
3.  **账单列表展示:**
    *   按时间倒序清晰展示所有账单记录。
    *   每条记录能概要显示关键信息（日期、分类、金额、简要说明）。
4.  **固定交易分类:**
    *   提供一组不可编辑的、常用的支出和收入分类
        支出场景：数码电器，餐饮美食，自我提升，服装饰品，日用百货，车辆交通，娱乐休闲，医疗健康，家庭支出，充值缴费，其他，总计;
        收入场景：副业收入，投资理财，主业收入，红包礼金，合计;
    *   用户在记账时（无论是截图识别后确认还是手动记账）可以选择或修改该条记录的分类。
5.  **基础收支汇总:**
    *   在App的某个位置（如首页或简单报表页）展示当月的总支出、总收入。
6.  **本地数据存储:**
    *   所有账单数据安全存储在用户设备本地（numbers，wps，Excel）
7.  **数据导出 (CSV/Excel格式):**
    *   允许用户将账单数据导出，以便在其他软件中查看或备份。

**MVP阶段可以先放弃的功能：**

*   高级/复杂分析报表 (如趋势分析、多维度对比、消费习惯洞察等)。
*   预算管理功能。
*   数据云同步与在线备份。
*   独立的用户账户系统 (若云同步不做，则账户系统优先级降低)。
*   自定义交易分类及规则引擎。
*   智能场景识别、对话式财务助手等高级AI特性。
*   社交功能、家庭共享账本、多账本管理。
*   多币种支持、旅行专项模式等特定场景优化。
*   应用内购买、广告等商业化模块。
*   复杂的主题切换、个性化设置等。